{"level":"error","message":"Unable to connect to the database","stack":"Error: Unable to connect to the database\n    at _AsyncEmitter.auth (/app/nocobase/node_modules/@nocobase/database/lib/database.js:641:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async _AsyncEmitter.authenticate (/app/nocobase/node_modules/@nocobase/server/lib/application.js:470:5)\n    at async Object.callback (/app/nocobase/node_modules/@nocobase/server/lib/application.js:797:9)\n    at async _AppCommand.parseAsync (/app/nocobase/node_modules/@nocobase/server/node_modules/commander/lib/command.js:935:5)\n    at async _AsyncEmitter.runAsCLI (/app/nocobase/node_modules/@nocobase/server/lib/application.js:557:23)","meta":{},"module":"application","submodule":"","method":"","app":"main","reqId":"d78236bf-03e6-4c45-ae19-5c451b8e5d0a","dataSourceKey":"main","timestamp":"2025-04-10 05:18:18"}
{"level":"error","message":"the database system is starting up","stack":"SequelizeConnectionError: the database system is starting up\n    at Client._connectionCallback (/app/nocobase/node_modules/sequelize/lib/dialects/postgres/connection-manager.js:145:24)\n    at Client._handleErrorWhileConnecting (/app/nocobase/node_modules/pg/lib/client.js:336:19)\n    at Client._handleErrorMessage (/app/nocobase/node_modules/pg/lib/client.js:356:19)\n    at Connection.emit (node:events:524:28)\n    at Connection.emit (node:domain:489:12)\n    at /app/nocobase/node_modules/pg/lib/connection.js:116:12\n    at Parser.parse (/app/nocobase/node_modules/pg-protocol/dist/parser.js:36:17)\n    at Socket.<anonymous> (/app/nocobase/node_modules/pg-protocol/dist/index.js:11:42)\n    at Socket.emit (node:events:524:28)\n    at Socket.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:191:23)","app":"main","reqId":"d78236bf-03e6-4c45-ae19-5c451b8e5d0a","timestamp":"2025-04-10 05:18:18"}
{"level":"error","message":"invalid input syntax for type bigint: \"www.facebook.com\"","meta":{"err":"Error\n    at Query.run (/app/nocobase/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /app/nocobase/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (/app/nocobase/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async create_course.findAll (/app/nocobase/node_modules/sequelize/lib/model.js:1140:21)\n    at async _Repository.find (/app/nocobase/node_modules/@nocobase/database/lib/repository.js:261:14)\n    at async _Repository.findOne (/app/nocobase/node_modules/@nocobase/database/lib/repository.js:303:18)\n    at async /app/nocobase/node_modules/@nocobase/actions/lib/actions/proxy-to-repository.js:50:16\n    at async triggerWorkflowActionMiddleware (/app/nocobase/node_modules/@nocobase/plugin-workflow-action-trigger/dist/server/ActionTrigger.js:61:7)\n    at async dataTemplate (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/data-template.js:36:3)\n    at async app.acl.use.after (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/server.js:534:9)\n    at async middlewares.add.tag (/app/nocobase/node_modules/@nocobase/acl/lib/acl.js:398:9)\n    at async /app/nocobase/node_modules/@nocobase/acl/lib/allow-manager.js:108:7\n    at async ACLMiddleware (/app/nocobase/node_modules/@nocobase/acl/lib/acl.js:288:14)\n    at async setCurrentRole (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/middlewares/setCurrentRole.js:87:3)\n    at async AuthManagerMiddleware (/app/nocobase/node_modules/@nocobase/auth/lib/auth-manager.js:125:7)"},"module":"create_course","submodule":"get","method":"error-handler","app":"main","reqId":"1055039b-c997-4e9c-970d-79ce3641550f","dataSourceKey":"main","timestamp":"2025-04-10 15:10:37"}
{"level":"error","message":"invalid input syntax for type bigint: \"www.facebook.com\"","meta":{"err":"Error\n    at Query.run (/app/nocobase/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /app/nocobase/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (/app/nocobase/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async create_course.findAll (/app/nocobase/node_modules/sequelize/lib/model.js:1140:21)\n    at async _Repository.find (/app/nocobase/node_modules/@nocobase/database/lib/repository.js:261:14)\n    at async _Repository.findOne (/app/nocobase/node_modules/@nocobase/database/lib/repository.js:303:18)\n    at async /app/nocobase/node_modules/@nocobase/actions/lib/actions/proxy-to-repository.js:50:16\n    at async triggerWorkflowActionMiddleware (/app/nocobase/node_modules/@nocobase/plugin-workflow-action-trigger/dist/server/ActionTrigger.js:61:7)\n    at async dataTemplate (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/data-template.js:36:3)\n    at async app.acl.use.after (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/server.js:534:9)\n    at async middlewares.add.tag (/app/nocobase/node_modules/@nocobase/acl/lib/acl.js:398:9)\n    at async /app/nocobase/node_modules/@nocobase/acl/lib/allow-manager.js:108:7\n    at async ACLMiddleware (/app/nocobase/node_modules/@nocobase/acl/lib/acl.js:288:14)\n    at async setCurrentRole (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/middlewares/setCurrentRole.js:87:3)\n    at async AuthManagerMiddleware (/app/nocobase/node_modules/@nocobase/auth/lib/auth-manager.js:125:7)"},"module":"create_course","submodule":"get","method":"error-handler","app":"main","reqId":"b5a94d77-ac0f-4920-b025-283bb128f5e0","dataSourceKey":"main","timestamp":"2025-04-10 15:10:38"}
{"level":"error","message":"invalid input syntax for type bigint: \"www.google.com\"","meta":{"err":"Error\n    at Query.run (/app/nocobase/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /app/nocobase/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (/app/nocobase/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async create_course.findAll (/app/nocobase/node_modules/sequelize/lib/model.js:1140:21)\n    at async _Repository.find (/app/nocobase/node_modules/@nocobase/database/lib/repository.js:261:14)\n    at async _Repository.findOne (/app/nocobase/node_modules/@nocobase/database/lib/repository.js:303:18)\n    at async /app/nocobase/node_modules/@nocobase/actions/lib/actions/proxy-to-repository.js:50:16\n    at async triggerWorkflowActionMiddleware (/app/nocobase/node_modules/@nocobase/plugin-workflow-action-trigger/dist/server/ActionTrigger.js:61:7)\n    at async dataTemplate (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/data-template.js:36:3)\n    at async app.acl.use.after (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/server.js:534:9)\n    at async middlewares.add.tag (/app/nocobase/node_modules/@nocobase/acl/lib/acl.js:398:9)\n    at async /app/nocobase/node_modules/@nocobase/acl/lib/allow-manager.js:108:7\n    at async ACLMiddleware (/app/nocobase/node_modules/@nocobase/acl/lib/acl.js:288:14)\n    at async setCurrentRole (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/middlewares/setCurrentRole.js:87:3)\n    at async AuthManagerMiddleware (/app/nocobase/node_modules/@nocobase/auth/lib/auth-manager.js:125:7)"},"module":"create_course","submodule":"get","method":"error-handler","app":"main","reqId":"cfd6d88f-9695-4691-b3c9-f5a9fe7b385c","dataSourceKey":"main","timestamp":"2025-04-10 15:11:12"}
{"level":"error","message":"invalid input syntax for type bigint: \"www.google.com\"","meta":{"err":"Error\n    at Query.run (/app/nocobase/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /app/nocobase/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (/app/nocobase/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async create_course.findAll (/app/nocobase/node_modules/sequelize/lib/model.js:1140:21)\n    at async _Repository.find (/app/nocobase/node_modules/@nocobase/database/lib/repository.js:261:14)\n    at async _Repository.findOne (/app/nocobase/node_modules/@nocobase/database/lib/repository.js:303:18)\n    at async /app/nocobase/node_modules/@nocobase/actions/lib/actions/proxy-to-repository.js:50:16\n    at async triggerWorkflowActionMiddleware (/app/nocobase/node_modules/@nocobase/plugin-workflow-action-trigger/dist/server/ActionTrigger.js:61:7)\n    at async dataTemplate (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/data-template.js:36:3)\n    at async app.acl.use.after (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/server.js:534:9)\n    at async middlewares.add.tag (/app/nocobase/node_modules/@nocobase/acl/lib/acl.js:398:9)\n    at async /app/nocobase/node_modules/@nocobase/acl/lib/allow-manager.js:108:7\n    at async ACLMiddleware (/app/nocobase/node_modules/@nocobase/acl/lib/acl.js:288:14)\n    at async setCurrentRole (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/middlewares/setCurrentRole.js:87:3)\n    at async AuthManagerMiddleware (/app/nocobase/node_modules/@nocobase/auth/lib/auth-manager.js:125:7)"},"module":"create_course","submodule":"get","method":"error-handler","app":"main","reqId":"2571c553-a675-4d77-b170-907afc902044","dataSourceKey":"main","timestamp":"2025-04-10 15:11:14"}
{"level":"error","message":"invalid input syntax for type bigint: \"root\"","meta":{"err":"Error\n    at Query.run (/app/nocobase/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /app/nocobase/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (/app/nocobase/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async create_course.findAll (/app/nocobase/node_modules/sequelize/lib/model.js:1140:21)\n    at async _Repository.find (/app/nocobase/node_modules/@nocobase/database/lib/repository.js:261:14)\n    at async _Repository.findOne (/app/nocobase/node_modules/@nocobase/database/lib/repository.js:303:18)\n    at async /app/nocobase/node_modules/@nocobase/actions/lib/actions/proxy-to-repository.js:50:16\n    at async triggerWorkflowActionMiddleware (/app/nocobase/node_modules/@nocobase/plugin-workflow-action-trigger/dist/server/ActionTrigger.js:61:7)\n    at async dataTemplate (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/data-template.js:36:3)\n    at async app.acl.use.after (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/server.js:534:9)\n    at async middlewares.add.tag (/app/nocobase/node_modules/@nocobase/acl/lib/acl.js:398:9)\n    at async /app/nocobase/node_modules/@nocobase/acl/lib/allow-manager.js:108:7\n    at async ACLMiddleware (/app/nocobase/node_modules/@nocobase/acl/lib/acl.js:288:14)\n    at async setCurrentRole (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/middlewares/setCurrentRole.js:87:3)\n    at async AuthManagerMiddleware (/app/nocobase/node_modules/@nocobase/auth/lib/auth-manager.js:125:7)"},"module":"create_course","submodule":"get","method":"error-handler","app":"main","reqId":"3c041a63-9a46-47a2-b180-c9cd6a34e033","dataSourceKey":"main","timestamp":"2025-04-10 15:11:55"}
{"level":"error","message":"invalid input syntax for type bigint: \"root\"","meta":{"err":"Error\n    at Query.run (/app/nocobase/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /app/nocobase/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (/app/nocobase/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async create_course.findAll (/app/nocobase/node_modules/sequelize/lib/model.js:1140:21)\n    at async _Repository.find (/app/nocobase/node_modules/@nocobase/database/lib/repository.js:261:14)\n    at async _Repository.findOne (/app/nocobase/node_modules/@nocobase/database/lib/repository.js:303:18)\n    at async /app/nocobase/node_modules/@nocobase/actions/lib/actions/proxy-to-repository.js:50:16\n    at async triggerWorkflowActionMiddleware (/app/nocobase/node_modules/@nocobase/plugin-workflow-action-trigger/dist/server/ActionTrigger.js:61:7)\n    at async dataTemplate (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/data-template.js:36:3)\n    at async app.acl.use.after (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/server.js:534:9)\n    at async middlewares.add.tag (/app/nocobase/node_modules/@nocobase/acl/lib/acl.js:398:9)\n    at async /app/nocobase/node_modules/@nocobase/acl/lib/allow-manager.js:108:7\n    at async ACLMiddleware (/app/nocobase/node_modules/@nocobase/acl/lib/acl.js:288:14)\n    at async setCurrentRole (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/middlewares/setCurrentRole.js:87:3)\n    at async AuthManagerMiddleware (/app/nocobase/node_modules/@nocobase/auth/lib/auth-manager.js:125:7)"},"module":"create_course","submodule":"get","method":"error-handler","app":"main","reqId":"f4f69882-6bab-473b-afbc-139cc942efc1","dataSourceKey":"main","timestamp":"2025-04-10 15:11:56"}
{"level":"error","message":"invalid input syntax for type bigint: \"313,314,315,316,317,318,319,320,321,322\"","meta":{"err":"Error\n    at Query.run (/app/nocobase/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /app/nocobase/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (/app/nocobase/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async create_course.findAll (/app/nocobase/node_modules/sequelize/lib/model.js:1140:21)\n    at async _Repository.find (/app/nocobase/node_modules/@nocobase/database/lib/repository.js:261:14)\n    at async _Repository.findOne (/app/nocobase/node_modules/@nocobase/database/lib/repository.js:303:18)\n    at async /app/nocobase/node_modules/@nocobase/actions/lib/actions/proxy-to-repository.js:50:16\n    at async triggerWorkflowActionMiddleware (/app/nocobase/node_modules/@nocobase/plugin-workflow-action-trigger/dist/server/ActionTrigger.js:61:7)\n    at async dataTemplate (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/data-template.js:36:3)\n    at async app.acl.use.after (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/server.js:534:9)\n    at async middlewares.add.tag (/app/nocobase/node_modules/@nocobase/acl/lib/acl.js:398:9)\n    at async /app/nocobase/node_modules/@nocobase/acl/lib/allow-manager.js:108:7\n    at async ACLMiddleware (/app/nocobase/node_modules/@nocobase/acl/lib/acl.js:288:14)\n    at async setCurrentRole (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/middlewares/setCurrentRole.js:87:3)\n    at async AuthManagerMiddleware (/app/nocobase/node_modules/@nocobase/auth/lib/auth-manager.js:125:7)"},"module":"create_course","submodule":"get","method":"error-handler","app":"main","reqId":"3f87f2ab-ae63-4499-b122-0a9a27400ca1","dataSourceKey":"main","timestamp":"2025-04-10 15:12:17"}
{"level":"error","message":"invalid input syntax for type bigint: \"2025-04-10T00:00:26.000Z,2025-04-17T00:00:26.000Z,2025-04-24T00:00:26.000Z,2025-05-01T00:00:26.000Z,2025-05-08T00:00:26.000Z,2025-05-15T00:00:26.000Z,2025-05-22T00:00:26.000Z,2025-05-29T00:00:26.000Z,2025-06-05T00:00:26.000Z,2025-06-12T00:00:26.000Z\"","meta":{"err":"Error\n    at Query.run (/app/nocobase/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /app/nocobase/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.select (/app/nocobase/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async create_course.findAll (/app/nocobase/node_modules/sequelize/lib/model.js:1140:21)\n    at async _Repository.find (/app/nocobase/node_modules/@nocobase/database/lib/repository.js:261:14)\n    at async _Repository.findOne (/app/nocobase/node_modules/@nocobase/database/lib/repository.js:303:18)\n    at async /app/nocobase/node_modules/@nocobase/actions/lib/actions/proxy-to-repository.js:50:16\n    at async triggerWorkflowActionMiddleware (/app/nocobase/node_modules/@nocobase/plugin-workflow-action-trigger/dist/server/ActionTrigger.js:61:7)\n    at async dataTemplate (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/data-template.js:36:3)\n    at async app.acl.use.after (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/server.js:534:9)\n    at async middlewares.add.tag (/app/nocobase/node_modules/@nocobase/acl/lib/acl.js:398:9)\n    at async /app/nocobase/node_modules/@nocobase/acl/lib/allow-manager.js:108:7\n    at async ACLMiddleware (/app/nocobase/node_modules/@nocobase/acl/lib/acl.js:288:14)\n    at async setCurrentRole (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/middlewares/setCurrentRole.js:87:3)\n    at async AuthManagerMiddleware (/app/nocobase/node_modules/@nocobase/auth/lib/auth-manager.js:125:7)"},"module":"create_course","submodule":"get","method":"error-handler","app":"main","reqId":"ac57c4d3-2053-44b0-a2b9-c7e11cf45dbe","dataSourceKey":"main","timestamp":"2025-04-10 15:52:25"}
{"level":"error","message":{"name":"JsonWebTokenError","message":"invalid signature"},"meta":{},"module":"application","submodule":"","method":"jwt.decode","app":"main","reqId":"14163102-67c1-4ef8-94a1-14b913ca2ea0","dataSourceKey":"main","timestamp":"2025-04-10 16:27:58"}
{"level":"error","message":"401","stack":"Error: 401\n    at Object.throw (/app/nocobase/node_modules/@nocobase/plugin-auth/dist/server/plugin.js:170:17)\n    at BasicAuth.checkToken (/app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:104:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async _AsyncEmitter.<anonymous> (/app/nocobase/node_modules/@nocobase/plugin-auth/dist/server/plugin.js:176:17)","meta":{},"module":"application","submodule":"","method":"","app":"main","reqId":"14163102-67c1-4ef8-94a1-14b913ca2ea0","dataSourceKey":"main","timestamp":"2025-04-10 16:27:58"}
{"level":"error","message":{"name":"JsonWebTokenError","message":"invalid signature"},"meta":{},"module":"myInAppMessages","submodule":"count","method":"jwt.decode","app":"main","reqId":"a85ad82c-4d97-4062-8ead-0ef851d5aaf2","dataSourceKey":"main","timestamp":"2025-04-10 16:28:35"}
{"level":"error","message":"您的会话已过期，请重新登录。","meta":{"err":"UnauthorizedError: 您的会话已过期，请重新登录。\n    at Object.throw (/app/nocobase/node_modules/koa/lib/context.js:97:11)\n    at BasicAuth.checkToken (/app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:104:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BasicAuth.check (/app/nocobase/node_modules/@nocobase/auth/lib/base/auth.js:193:68)\n    at async AuthManagerMiddleware (/app/nocobase/node_modules/@nocobase/auth/lib/auth-manager.js:121:20)\n    at async validateFilterParams (/app/nocobase/node_modules/@nocobase/server/lib/middlewares/validate-filter-params.js:39:12)\n    at async /app/nocobase/node_modules/@nocobase/plugin-users/dist/server/server.js:223:7\n    at async deleteRolesCache (/app/nocobase/node_modules/@nocobase/plugin-users/dist/server/server.js:212:7)\n    at async app.resourcer.use.before (/app/nocobase/node_modules/@nocobase/plugin-file-manager/dist/server/actions/index.js:55:7)\n    at async handleFieldSourceMiddleware (/app/nocobase/node_modules/@nocobase/plugin-data-source-main/dist/server/server.js:443:7)\n    at async mergeReverseFieldWhenSaveCollectionField (/app/nocobase/node_modules/@nocobase/plugin-data-source-main/dist/server/server.js:417:7)\n    at async pushUISchemaWhenUpdateCollectionField (/app/nocobase/node_modules/@nocobase/plugin-data-source-main/dist/server/server.js:349:7)\n    at async pushUISchemaWhenUpdateCollectionField (/app/nocobase/node_modules/@nocobase/plugin-data-source-main/dist/server/server.js:330:7)\n    at async appendDataToRolesCheck (/app/nocobase/node_modules/@nocobase/plugin-data-source-manager/dist/server/plugin.js:593:7)\n    at async setDataSourceListDefaultSort (/app/nocobase/node_modules/@nocobase/plugin-data-source-manager/dist/server/plugin.js:310:7)\n    at async showAnonymous (/app/nocobase/node_modules/@nocobase/plugin-acl/dist/server/server.js:459:7)"},"module":"myInAppMessages","submodule":"count","method":"error-handler","app":"main","reqId":"a85ad82c-4d97-4062-8ead-0ef851d5aaf2","dataSourceKey":"main","timestamp":"2025-04-10 16:28:35"}
