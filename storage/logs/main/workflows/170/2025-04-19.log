{"level":"info","message":"new event triggered, now events: 1","timestamp":"2025-04-19 04:48:32"}
{"level":"info","message":"preparing execution for event","timestamp":"2025-04-19 04:48:32"}
{"level":"info","message":"execution of workflow 170 created as 1197","timestamp":"2025-04-19 04:48:32"}
{"level":"info","message":"execution (1197) fetched from db","timestamp":"2025-04-19 04:48:32"}
{"level":"info","message":"execution (1197) starting...","timestamp":"2025-04-19 04:48:32"}
{"level":"info","message":"execution (1197) run instruction [query] for node (1661)","timestamp":"2025-04-19 04:48:32"}
{"level":"info","message":"execution (1197) run instruction [query] for node (1661) finished as status: 1","timestamp":"2025-04-19 04:48:32"}
{"level":"info","message":"execution (1197) run instruction [condition] for node (1663)","timestamp":"2025-04-19 04:48:32"}
{"level":"info","message":"execution (1197) run instruction [update] for node (1664)","timestamp":"2025-04-19 04:48:32"}
{"level":"error","message":"execution (1197) run instruction [update] for node (1664) failed:  Cannot read properties of undefined (reading 'replace')","stack":"TypeError: Cannot read properties of undefined (reading 'replace')\n    at escapeLike (/app/nocobase/node_modules/@nocobase/database/lib/operators/string.js:36:16)\n    at $notIncludes (/app/nocobase/node_modules/@nocobase/database/lib/operators/string.js:110:35)\n    at _FilterParser.toSequelizeParams (/app/nocobase/node_modules/@nocobase/database/lib/filter-parser.js:126:23)\n    at _OptionsParser.toSequelizeParams (/app/nocobase/node_modules/@nocobase/database/lib/options-parser.js:116:43)\n    at _Repository.buildQueryOptions (/app/nocobase/node_modules/@nocobase/database/lib/repository.js:538:27)\n    at _Repository.update (/app/nocobase/node_modules/@nocobase/database/lib/repository.js:394:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async descriptor.value (/app/nocobase/node_modules/@nocobase/database/lib/decorators/transaction-decorator.js:84:29)\n    at async UpdateInstruction.run (/app/nocobase/node_modules/@nocobase/plugin-workflow/dist/server/instructions/UpdateInstruction.js:42:20)\n    at async Processor.exec (/app/nocobase/node_modules/@nocobase/plugin-workflow/dist/server/Processor.js:160:13)\n    at async ConditionInstruction.run (/app/nocobase/node_modules/@nocobase/plugin-workflow/dist/server/instructions/ConditionInstruction.js:77:5)\n    at async Processor.exec (/app/nocobase/node_modules/@nocobase/plugin-workflow/dist/server/Processor.js:160:13)\n    at async Processor.start (/app/nocobase/node_modules/@nocobase/plugin-workflow/dist/server/Processor.js:141:7)\n    at async PluginWorkflowServer.process (/app/nocobase/node_modules/@nocobase/plugin-workflow/dist/server/Plugin.js:602:7)\n    at async /app/nocobase/node_modules/@nocobase/plugin-workflow/dist/server/Plugin.js:579:9","timestamp":"2025-04-19 04:48:32"}
{"level":"info","message":"execution (1197) run instruction [update] for node (1664) finished as status: -2","timestamp":"2025-04-19 04:48:32"}
{"level":"info","message":"execution (1197) run instruction [condition] for node (1663)","timestamp":"2025-04-19 04:48:32"}
{"level":"info","message":"execution (1197) exiting with status -2","timestamp":"2025-04-19 04:48:32"}
{"level":"info","message":"execution (1197) exiting with status -2","timestamp":"2025-04-19 04:48:32"}
{"level":"info","message":"execution (1197) exiting with status -2","timestamp":"2025-04-19 04:48:32"}
{"level":"info","execution":{"id":1197,"createdAt":"2025-04-19T04:48:32.231Z","updatedAt":"2025-04-19T04:48:32.312Z","key":"ju393tq5yqm","eventKey":"69f63c94-8d39-4b01-8be3-84e50ae42427","context":{"data":{"createdAt":"2025-04-19T04:48:32.182Z","updatedAt":"2025-04-19T04:48:32.190Z","start_date":"2025-04-19T08:00:26.000Z","end_date":"2025-04-19T08:50:00.000Z","employee_id":1,"create_course_id":166,"salary_id":null,"remark":null,"expired_date":null,"status_sort":42,"id":606,"status_convert":0,"month_convert":"4/2025","student":"A Student","teaching_fee":0,"actual_class_date":"2025-04-19","createdById":null,"updatedById":null,"status":"Inactive","salary_db":null,"create_course_db":{"createdAt":"2025-04-19T04:48:32.086Z","updatedAt":"2025-04-19T04:48:32.110Z","start_date":"2025-04-19T08:00:26.000Z","end_date":"2025-04-19T08:50:00.000Z","package_id":69,"id":166,"payment_method":"Cash","progress":0,"fee":null,"transport_fee":20,"student_id":5,"total":20,"invoice_number":"INV4","payment_date":"2025-04-19","createdById":1,"updatedById":1,"package_db":{"createdAt":"2025-04-19T04:41:07.586Z","updatedAt":"2025-04-19T04:41:07.586Z","name_sort":24,"nop_sort":23,"fee":null,"id":69,"name":"Transport Fee","transport_fee":null,"quantity":null,"type":null,"nop":null,"createdById":1,"updatedById":1}},"employee_db":{"createdAt":"2025-04-02T13:39:00.321Z","updatedAt":"2025-04-18T14:37:42.160Z","bank_name":"Hong Leong Bank","bank_account":"1","emergency_contact_number":"1","job_title":"Swimming Coach","name":"Lee Chin Meng","contact_number":"0142788556","id":1,"identity_card":"990422016885","email":"xmrxperfectx@gmail.com","address":"No 28, Jalan Desa Putih 9, Taman Desa Putih","gender":"Male","emergency_contact_name":"1","user_id":1,"nickname":"Felix","dob":"1999-04-22","start_date":"2024-04-22","end_date":null,"level":"Special","createdById":1,"updatedById":1}}},"status":-2,"stack":[1196],"output":null,"workflowId":170},"message":"execution (1197) finished with status: -2","timestamp":"2025-04-19 04:48:32"}
{"level":"info","message":"new event triggered, now events: 1","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"preparing execution for event","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution of workflow 170 created as 1198","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"pending execution (1198) ready to process","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"queueing execution (1198) from pending list updated to started","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) starting...","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [query] for node (1661)","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [query] for node (1661) finished as status: 1","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [condition] for node (1663)","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [update] for node (1662)","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [update] for node (1662) finished as status: 1","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [condition] for node (1663)","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [condition] for node (1663) finished as status: 1","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [condition] for node (1665)","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [parallel] for node (1666)","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [calculation] for node (1669)","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [calculation] for node (1669) finished as status: 1","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [update] for node (1667)","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [update] for node (1667) finished as status: 1","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [parallel] for node (1666)","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) exiting with status 0","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) exiting with status 0","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [query] for node (1673)","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [query] for node (1673) finished as status: 1","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [calculation] for node (1674)","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [calculation] for node (1674) finished as status: 1","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [update] for node (1668)","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [update] for node (1668) finished as status: 1","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [parallel] for node (1666)","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) exiting with status 0","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) exiting with status 0","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [update] for node (1675)","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [update] for node (1675) finished as status: 1","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [parallel] for node (1666)","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [parallel] for node (1666) finished as status: 1","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [condition] for node (1665)","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [condition] for node (1665) finished as status: 1","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [sql] for node (1671)","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [sql] for node (1671) finished as status: 1","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [sql] for node (1672)","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) run instruction [sql] for node (1672) finished as status: 1","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) exiting with status 1","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) exiting with status 1","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) exiting with status 1","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"execution (1198) exiting with status 1","timestamp":"2025-04-19 04:49:02"}
{"level":"info","execution":{"id":1198,"context":{"data":{"createdAt":"2025-04-19T04:48:32.182Z","updatedAt":"2025-04-19T04:49:02.779Z","start_date":"2025-04-19T08:00:26.000Z","end_date":"2025-04-19T08:50:00.000Z","employee_id":1,"create_course_id":166,"salary_id":null,"remark":null,"expired_date":null,"status_sort":2,"id":606,"status_convert":0,"month_convert":"4/2025","student":"A Student","teaching_fee":0,"actual_class_date":"2025-04-19","createdById":null,"updatedById":null,"status":"Attend","salary_db":null,"create_course_db":{"createdAt":"2025-04-19T04:48:32.086Z","updatedAt":"2025-04-19T04:48:32.110Z","start_date":"2025-04-19T08:00:26.000Z","end_date":"2025-04-19T08:50:00.000Z","package_id":69,"id":166,"payment_method":"Cash","progress":0,"fee":null,"transport_fee":20,"student_id":5,"total":20,"invoice_number":"INV4","payment_date":"2025-04-19","createdById":1,"updatedById":1,"package_db":{"createdAt":"2025-04-19T04:41:07.586Z","updatedAt":"2025-04-19T04:41:07.586Z","name_sort":24,"nop_sort":23,"fee":null,"id":69,"name":"Transport Fee","transport_fee":null,"quantity":null,"type":null,"nop":null,"createdById":1,"updatedById":1}},"employee_db":{"createdAt":"2025-04-02T13:39:00.321Z","updatedAt":"2025-04-18T14:37:42.160Z","bank_name":"Hong Leong Bank","bank_account":"1","emergency_contact_number":"1","job_title":"Swimming Coach","name":"Lee Chin Meng","contact_number":"0142788556","id":1,"identity_card":"990422016885","email":"xmrxperfectx@gmail.com","address":"No 28, Jalan Desa Putih 9, Taman Desa Putih","gender":"Male","emergency_contact_name":"1","user_id":1,"nickname":"Felix","dob":"1999-04-22","start_date":"2024-04-22","end_date":null,"level":"Special","createdById":1,"updatedById":1}}},"key":"ju393tq5yqm","eventKey":"c7149215-cc02-4069-aacd-9e91c1e19cdc","stack":null,"status":1,"workflowId":170,"updatedAt":"2025-04-19T04:49:02.959Z","createdAt":"2025-04-19T04:49:02.809Z","output":null},"message":"execution (1198) finished with status: 1","timestamp":"2025-04-19 04:49:02"}
{"level":"info","message":"new event triggered, now events: 1","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"preparing execution for event","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution of workflow 170 created as 1199","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"pending execution (1199) ready to process","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"queueing execution (1199) from pending list updated to started","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) starting...","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) run instruction [query] for node (1661)","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) run instruction [query] for node (1661) finished as status: 1","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) run instruction [condition] for node (1663)","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) run instruction [update] for node (1664)","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) run instruction [update] for node (1664) finished as status: 1","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) run instruction [condition] for node (1663)","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) run instruction [condition] for node (1663) finished as status: 1","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) run instruction [condition] for node (1665)","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) run instruction [update] for node (1670)","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) run instruction [update] for node (1670) finished as status: 1","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) run instruction [condition] for node (1665)","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) run instruction [condition] for node (1665) finished as status: 1","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) run instruction [sql] for node (1671)","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) run instruction [sql] for node (1671) finished as status: 1","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) run instruction [sql] for node (1672)","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) run instruction [sql] for node (1672) finished as status: 1","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) exiting with status 1","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) exiting with status 1","timestamp":"2025-04-19 04:49:21"}
{"level":"info","message":"execution (1199) exiting with status 1","timestamp":"2025-04-19 04:49:21"}
{"level":"info","execution":{"id":1199,"context":{"data":{"createdAt":"2025-04-19T04:48:32.182Z","updatedAt":"2025-04-19T04:49:21.384Z","start_date":"2025-04-19T08:00:26.000Z","end_date":"2025-04-19T08:50:00.000Z","employee_id":1,"create_course_id":166,"salary_id":1,"remark":null,"expired_date":null,"status_sort":1,"id":606,"status_convert":1,"month_convert":"4/2025","student":"A Student","teaching_fee":0,"actual_class_date":"2025-04-19","createdById":null,"updatedById":null,"status":"Claim","salary_db":{"createdAt":"2025-04-05T13:23:25.985Z","updatedAt":"2025-04-09T14:30:50.356Z","employee_id":1,"salary_amount":66.5,"id":1,"date":"2025-04-01","monthly":"4/2025","createdById":null,"updatedById":1,"attendance_db":[{"createdAt":"2025-04-18T05:11:47.225Z","updatedAt":"2025-04-19T04:49:02.867Z","start_date":"2025-04-19T02:00:00.000Z","end_date":"2025-04-19T02:40:00.000Z","employee_id":1,"create_course_id":161,"salary_id":1,"remark":null,"expired_date":null,"status_sort":1,"id":584,"status_convert":1,"month_convert":"4/2025","student":"Student A","teaching_fee":66.5,"actual_class_date":null,"createdById":null,"updatedById":null,"status":"Attend"},{"createdAt":"2025-04-19T04:48:32.182Z","updatedAt":"2025-04-19T04:49:21.384Z","start_date":"2025-04-19T08:00:26.000Z","end_date":"2025-04-19T08:50:00.000Z","employee_id":1,"create_course_id":166,"salary_id":1,"remark":null,"expired_date":null,"status_sort":1,"id":606,"status_convert":1,"month_convert":"4/2025","student":"A Student","teaching_fee":0,"actual_class_date":"2025-04-19","createdById":null,"updatedById":null,"status":"Claim"}]},"create_course_db":{"createdAt":"2025-04-19T04:48:32.086Z","updatedAt":"2025-04-19T04:48:32.110Z","start_date":"2025-04-19T08:00:26.000Z","end_date":"2025-04-19T08:50:00.000Z","package_id":69,"id":166,"payment_method":"Cash","progress":null,"fee":null,"transport_fee":20,"student_id":5,"total":20,"invoice_number":"INV4","payment_date":"2025-04-19","createdById":1,"updatedById":1,"package_db":{"createdAt":"2025-04-19T04:41:07.586Z","updatedAt":"2025-04-19T04:41:07.586Z","name_sort":24,"nop_sort":23,"fee":null,"id":69,"name":"Transport Fee","transport_fee":null,"quantity":null,"type":null,"nop":null,"createdById":1,"updatedById":1}},"employee_db":{"createdAt":"2025-04-02T13:39:00.321Z","updatedAt":"2025-04-18T14:37:42.160Z","bank_name":"Hong Leong Bank","bank_account":"1","emergency_contact_number":"1","job_title":"Swimming Coach","name":"Lee Chin Meng","contact_number":"0142788556","id":1,"identity_card":"990422016885","email":"xmrxperfectx@gmail.com","address":"No 28, Jalan Desa Putih 9, Taman Desa Putih","gender":"Male","emergency_contact_name":"1","user_id":1,"nickname":"Felix","dob":"1999-04-22","start_date":"2024-04-22","end_date":null,"level":"Special","createdById":1,"updatedById":1}}},"key":"ju393tq5yqm","eventKey":"0deceefa-ad7d-4086-93ed-a329fef56ac5","stack":null,"status":1,"workflowId":170,"updatedAt":"2025-04-19T04:49:21.542Z","createdAt":"2025-04-19T04:49:21.425Z","output":null},"message":"execution (1199) finished with status: 1","timestamp":"2025-04-19 04:49:21"}
